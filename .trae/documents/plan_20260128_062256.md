## 第四轮调整实施计划

### 问题原因分析
当用户选择文档和子表后立即点击"AI智能匹配"按钮时：
1. `useEffect` 开始执行加载文档字段，`loadingDocumentFields` 变为 `true`
2. 用户点击按钮，`handleAIMatch` 执行
3. 此时 `documentFields` 为空，但 `loadingDocumentFields` 为 `true`
4. 跳过了自动加载逻辑，直接执行到空字段检查，返回错误
5. 第二次点击时字段已加载完成，所以正常执行

### 解决方案
修改 `handleAIMatch` 函数，当 `loadingDocumentFields` 为 `true` 时，等待加载完成后再执行，而不是直接返回错误。

### 实施步骤
1. **修改 app/mappings/create/page.tsx**
   - 在 `handleAIMatch` 函数中添加等待逻辑
   - 当 `loadingDocumentFields` 为 `true` 时，等待字段加载完成
   - 使用 `setTimeout` 轮询检查字段是否加载完成

2. **修改 app/mappings/edit/[id]/page.tsx**
   - 同步添加相同的等待逻辑

3. **测试验证**
   - 选择文档和子表后立即点击AI智能匹配按钮
   - 验证是否能一次性成功执行
   - 检查倒计时功能是否正常

4. **代码质量检查**
   - 运行 ESLint 检查
   - 运行 TypeScript 类型检查